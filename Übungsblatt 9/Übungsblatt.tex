\documentclass[11pt]{article}

%Packages
\usepackage{amsfonts}	      %Mathematische Zeichen und Fonts
\usepackage{mathtools}        %Extra Mathematische Symbole
\usepackage{extarrows}	      %Extra Pfeile
\usepackage{listings}         %Codeansicht
\usepackage{scrlayer-scrpage} %Seitenkopf
\usepackage{tikz}             %tikz
\usepackage{enumitem}		  %Enumerate
\usepackage{listings}		  %Code snippets
\usepackage{amsmath}
\usepackage[normalem]{ulem}
\usepackage{tikz-qtree}

\usetikzlibrary{arrows, automata, positioning}
\pagestyle{scrheadings}

\begin{document}

%Header
\ihead{\textbf{Formale Systeme, Automaten, Prozesse \\ Übungsblatt 9} \\Tutorium 11}
\ohead{Tim Luther, 410886 \\ Til Mohr, 405959\\ Simon Michau, 406133}

%Seiteninhalt
\paragraph{Aufgabe H30}
\begin{enumerate}[label=\arabic*)]
\item Die Sprache ist kontextfrei, folgende CFG beschreibt diese Sprache:
\[S\rightarrow aSb \mid A \mid B\]
\[A\rightarrow aAa \mid M\]
\[B\rightarrow bBb \mid M\]
\[M\rightarrow bMa \mid \epsilon\]

\item Angenommen $L_2$ sei kontextfrei. Dann muss das Pumpinglemma für kontextfreie Sprachen gelten:
\\Sei $n\in\mathbb{N}$, $z\in L_2$ mit $z=a^{2^n}$ und $\vert z \vert = 2^n \geq n$.
\\Dann muss es eine Zerlegung von $z$ in $uvwxy$ geben mit:
\begin{enumerate}[label=(\arabic*)]
\item $\vert vwx \vert \leq n$
\item $\vert vx \vert > 0$
\item $uv^iwx^iy\in L_2 \forall i\in\mathbb{N}$
\end{enumerate}
Betrachte $i=2$:
\[\vert uv^2wx^2y \vert = \vert uvwxy \vert + \vert v \vert + \vert x \vert = \vert z \vert + \vert vx \vert \leq 2^n+n < 2^{n+1}\]
Damit ist $uv^2wx^2y\not\in L_2$ also gilt das Pumpinglemma nicht und $L_2$ ist nicht kontextfrei.

\item
Diese Sprache ist nicht kontextfrei.
Angenommen sie sei kontextfrei. Dann muss das Pumpinglemma für kontextfreie Sprachen gelten:
\\Sei $n\in\mathbb{N}$, $z\in L_2$ mit $z=(ab)^nac(bc)^n$ und $\vert z \vert = 2\cdot n + 4 \geq n$.
\\Dann muss es eine Zerlegung von $z$ in $uvwxy$ geben mit:
\begin{enumerate}[label=(\arabic*)]
\item $\vert vwx \vert \leq n$
\item $\vert vx \vert > 0$
\item $z_i=uv^iwx^iy\in L_2 \forall i\in\mathbb{N}$
\end{enumerate}
Da alle Worte in $L_3$ eine Länge des Vielfaches von 2 sind, muss $\vert vx \vert$ auch ein Vielfaches von 2 sein. Dadurch werden für alle $i$ eine gerade Anzahl an Buchstaben hinzugefügt ($i>1$) oder gelöscht($i=0$) (oder für $i=1$ unverändert).
\\\\Betrachte $i=4$: [$m=0.5\cdot\vert z \vert = n+1$]
\\Wenn Terminale links von dem ersten $c$ hinzugefügt werden, ist $z_3 \not\in L_3$, da es mind. ein $w_j=a$ gibt, sodass $w_{j+m}=w_j=a$.
\\Wenn Terminale rechts von dem ersten $c$ hinzugefügt werden, ist $z_3 \not\in L_3$, da $m$-Positionen rechts von dem ersten $c$ ebenfalls ein $c$ stehen wird.
\\Wenn das erste $c$ mit in $vx$ steht, gelten Fall 1 und Fall 2 trotzdem.
\\\\Damit gilt das Pumping-Lemma nicht und $L_3$ ist nicht kontextfrei.

\end{enumerate}

\paragraph{Aufgabe H31}
\begin{enumerate}[label=\alph*)]
\item Kellerautomat für $L$:
\begin{center}
		\begin{tikzpicture}[->, >=latex, node distance = 2cm, semithick]
			\node[initial,state]	(q0)									{$q_0$};
			\node[state]			(q1)	[above right=1cm and 2cm of q0]	{$q_1$};
			\node[state]			(q2)	[right=2cm of q1]				{$q_2$};
			\node[state]			(q3)	[below right=1cm and 2cm of q0]	{$q_3$};
			\node[state]			(q4)	[right=2cm of q3] 				{$q_4$};	
			\node[state,accepting]	(q5) 	[right=7cm of q0]				{$q_5$};
			\node[state]			(q6)	[below right=2.5cm and 1.25cm of q5]	{$q_6$};
			\node[state]			(q7)	[above left=0.4cm and 3cm of q1]		{$q_7$};
			\node[state]			(q8)	[above left=1cm and 2cm of q7]		{$q_8$};

\path	(q0) 	edge [above left] node {$\epsilon$, $X \mid X$} 			(q1)
			 	edge [below left] node {$\epsilon$, $X \mid X$} 			(q3)
		(q1)	edge [loop above] node[align=left] {$b, X \mid X$\\
										$c, X \mid X$} 						(q1)
				edge [above]	  node {$\epsilon, X \mid X$}				(q2)
				edge [below, bend left=10] node {$a, X \mid aX$}			(q7)
		(q7)	edge [below, bend left=10] node {$\epsilon , a \mid aa$}	(q8)
		(q8)	edge [above, bend left=10] node {$\epsilon , a \mid aa$}	(q1)
		(q2)	edge [loop above] node[align=left] {$a, X \mid X$\\
										$b, a \mid \epsilon$\\
										$c, a \mid \epsilon$} 				(q2)
				edge [above right]node {$\epsilon, \Gamma_0 \mid \Gamma_0$} (q5)
		(q3)	edge [loop below] node[align=left] {$a, X \mid X$\\
										$b, X \mid X$\\
										$c, X \mid cX$}						(q3)
				edge [below]	  node {$\epsilon, X \mid X$}				(q4)
		(q4)	edge [loop below] node[align=left] {$b, X \mid X$\\
										$c, X \mid X$} 						(q4)
				edge [below right]node {$\epsilon, \Gamma_0 \mid \Gamma_0$}	(q5)
				edge [above, bend left=10]	  node {$a,c \mid \epsilon$}	(q6)
		(q6)	edge [below, bend left=10]	  node {$\epsilon ,c \mid \epsilon$} (q4)
;
\end{tikzpicture}
\end{center}

\item Zu zeigen: Wort $w$ wrd vom PDA angenommen $\Leftrightarrow$ $w\in L$.
\begin{itemize}
\item[$"\Leftarrow"$] Sei $w$ ein beliebiges Wort aus L.
\\Dann gilt: $w=uv$ mit $3\cdot \vert u \vert _a = \vert v \vert _b + \vert v \vert _c \lor \vert u \vert _c = 2\cdot \vert v \vert _a$.
\\Falls $3\cdot \vert u \vert _a = \vert v \vert _b + \vert v \vert _c$ gilt, dann wird $w$ angenommen, da $q_1$ $u$ so erstellt, dass jedes mal wenn $a$ hinzufefügt wird, drei $a$'s auf den Keller abgelegt werden. $q_3$ erstellt $v$ dann so, dass jedes mal, wenn ein $b$ oder ein $c$ gelesen wird, ein $a$ vom Keller genommen wird. Da der Keller am Ender leer ist, wird das Wort dann in $q_5$ angenommen.
\\Falls $\vert u \vert _c = 2\cdot \vert v \vert _a$ gilt, dann wird $w$ angenommen, da $q_2$ $u$ so erstellt, dass jedes mal, wenn ein $c$ gelesen wird, ein $c$ auf den Kellerspeicher abgelegt wird. $q_3$ erstellt dann $v$ so, dass jedes mal wenn ein $a$ gelesen wird, zewei dieser $c$ vom Keller gelöscht werden. Da der Keller am Ende dann leer ist, wird das Wort dann in $q_5$ angenommen.

\item[$"\Rightarrow"$] Sei $w$ ein beliebiges Wort, dass vom PDA angenommen wird.
\\Dann wurde $w$ entweder in $q_1$ und $q_3$ oder in $q_2$ und $q_4$ erstellt. \\Falls $w$ in $q_1$ und $q_3$ erstellt wurde, gilt  $3\cdot \vert u \vert _a = \vert v \vert _b + \vert v \vert _c$ für $w=uv$, denn in $q_1$ wird sichergestellt, dass jedes mal in $u$ ein $a$ hinzugefügt wird, drei $a$'s auf den Keller abgelegt werden, welche dann in $q_3$ durch $b$'s oder $c$'s gelöscht werden.
\\Falls $w$ in$q_2$ und $q_4$ erstellt wurde, gilt $\vert u \vert _c = 2\cdot \vert v \vert _a$ für $w=uv$, denn in $q_2$ wird sichergestellt, dass jedes mal, wenn ein $c$ gelesen wird, ein $c$ auf dem Keller abgelegt wird. Zwei dieser $c$'s werden dann in $q_4$ verbraucht, wenn ein $a$ gelesen wird.
\end{itemize}

Somit ist die Korrektheit und Vollständigkeit des Automaten bewiesen. 
\end{enumerate}


\paragraph{Aufgabe H32}
Für jede Kontextfreie Sprache gibt es eine Kontextfreie Grammatik. Sei $L$ diese Kontextfreie Sprache.
\\Falls $\epsilon\not\in L$:
\\\\Wandle $CFG(L)$ in die Greibachsche Normalform um. Sei $S$ das Startsymbol der Grammatik. Erstelle dann einen $\epsilon$-freien Kellerautomaten mit genau 3 Zuständen ($q_0$, $q_1$, $q_2$), der akzeptiert, wenn der Keller leer ist:
\\Füge Produktionsregeln der Form $S\rightarrow x$, wobei $x$ ein Terminal ist, als Transition von $q_0$ zu $q_2$ hinzu, ohne den Keller zu verändern: $x, \Sigma_0 \mid \Sigma_0$.
\\Füge Produktionsregeln der Form $S\rightarrow xM$, wobei $x$ ein Terminal ist und $M$ eine nichtleere Menge von Nichtterminalen ist, als Transition von $q_0$ zu $q_1$ hinzu, die wie folgt aussehen: $x, \Sigma_0 \mid M\Sigma_0$.
\\Alle restlichen Produktionsregeln werden wie folt eingefügt:
\\Sei $X\rightarrow x$, wobei $x$ ein Terminal und $X\in N \setminus\{S\}$ ein Nichtterminal ist. Da dies also bei einem Ableitungsbaum die letzte Ableitung darstellen kann, muss es eine Transition von $q_1$ zu $q_2$ geben: $x, X\Sigma_0 \mid \Sigma_0$. Zudem muss es auch eine Schleife um $q_1$ geben: $x, XV \mid V$, wobei $V$ eine Variable ist.
\\Sei $X\rightarrow xM$, wobei $x$ ein Terminal, $X\in N \setminus\{S\}$ ein Nichtterminal und $M$ eine nichtleere Menge an Nichtterminalen ist, füge eine Schleife an $q_1$ ein: $x, XV \mid MV$.
\\\\Damit kann man alle kontextfreien Sprachen, die $\epsilon$ nicht enthalten, auch mithilfe der veränderten Übergangsfunktion darstellen.
\\Über die kontextfreien Sprachen, die auch $\epsilon$ erhalten, kann man den Startzustand $q_0$ ebenfalls als Startzustand markieren.
\\\\Damit verändert sich die Menge der Sprachen, die den leeren Keller akzeptieren, nicht.

\end{document}